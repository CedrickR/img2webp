<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Convertisseur JPG vers WebP</title>
    <link rel="stylesheet" href="styles.css" />
    <script src="app.js" defer></script>
  </head>
  <body>
    <header class="site-header">
      <h1>Plateforme de conversion JPG vers WebP</h1>
      <p>
        Importez vos photos, ajustez les curseurs de compression et de
        réduction en pourcentage puis téléchargez-les au format WebP.
      </p>
    </header>
    <main>
      <section class="importer">
        <div id="dropZone" class="drop-zone" role="button" tabindex="0">
          <div class="drop-zone__icon" aria-hidden="true">⬆️</div>
          <p class="drop-zone__title">Déposez vos images ici</p>
          <p class="drop-zone__hint">
            Formats pris en charge&nbsp;: JPG, JPEG, PNG. Maximum 30 fichiers à la fois.
          </p>
          <button type="button" class="drop-zone__button">Choisir des fichiers</button>
          <input
            id="fileInput"
            class="drop-zone__input"
            type="file"
            accept="image/jpeg,image/jpg,image/png"
            multiple
            aria-label="Importer des images"
          />
        </div>
        <div class="actions">
          <button id="downloadAll" class="btn" type="button" disabled>
            Télécharger toutes les images
          </button>
          <button id="resetAll" class="btn btn--ghost" type="button" disabled>
            Vider la sélection
          </button>
        </div>
      </section>
      <section class="documentation" aria-labelledby="documentation-title">
        <div class="documentation__content">
          <h2 id="documentation-title">Documentation &amp; utilisation</h2>
          <p>
            Suivez ces étapes pour préparer vos images avant téléchargement ou
            export groupé.
          </p>
          <ol class="documentation__steps">
            <li>
              Importez jusqu'à 30 images en les déposant sur la zone prévue ou
              via le bouton «&nbsp;Choisir des fichiers&nbsp;».
            </li>
            <li>
              Ajustez les curseurs de compression WebP et de réduction en
              pourcentage pour chaque vignette. Les statistiques se mettent à
              jour automatiquement.
            </li>
            <li>
              Renommez vos fichiers WebP si nécessaire, puis téléchargez-les
              individuellement ou récupérez l'ensemble via le bouton de téléchargement global.
              Vous pouvez retirer une photo de la sélection via le bouton ✕ si
              nécessaire.
            </li>
            <li>
              Consultez le récapitulatif pour visualiser le gain total avant de
              finaliser vos téléchargements.
            </li>
          </ol>
          <section class="documentation__tips" aria-label="Astuces">
            <h3>Astuce</h3>
            <p>
              Utilisez des valeurs de compression plus élevées (80&nbsp;% et +)
              pour conserver la qualité, ou réduisez-les pour privilégier la
              légèreté des fichiers.
            </p>
          </section>
        </div>
      </section>
      <section id="summary" class="summary" aria-live="polite" hidden>
        <div class="summary__content">
          <h2>Récapitulatif des conversions</h2>
          <p class="summary__description">
            Suivez l'impact de vos réglages sur le poids total et le gain obtenu.
          </p>
          <dl class="summary__stats">
            <div class="summary__row">
              <dt>Poids original total</dt>
              <dd class="summary__original">0 o</dd>
            </div>
            <div class="summary__row">
              <dt>Poids converti total</dt>
              <dd class="summary__converted">0 o</dd>
            </div>
            <div class="summary__row">
              <dt>Gain total</dt>
              <dd class="summary__saving">0&nbsp;%</dd>
            </div>
          </dl>
        </div>
      </section>
      <section id="gallery" class="gallery" aria-live="polite"></section>
      <template id="imageCardTemplate">
        <article class="card">
          <div class="card__preview">
            <img class="card__thumbnail" alt="" loading="lazy" />
          </div>
          <div class="card__content">
            <header class="card__header">
              <h2 class="card__title"></h2>
              <p class="card__meta"></p>
              <button class="card__remove" type="button" aria-label="Supprimer l'image">
                ✕
              </button>
            </header>
            <div class="card__controls">
              <div class="control-group">
                <label class="control-label" for="compression">Taux de compression</label>
                <div class="slider-wrapper">
                  <input
                    class="compression-slider"
                    type="range"
                    min="1"
                    max="100"
                    value="80"
                  />
                  <span class="slider-value compression-value">80&nbsp;%</span>
                </div>
              </div>
              <div class="control-group">
                <label class="control-label" for="scale">Réduction</label>
                <div class="slider-wrapper">
                  <input
                    class="scale-slider"
                    type="range"
                    min="10"
                    max="100"
                    step="1"
                    value="100"
                    aria-label="Réduction en pourcentage"
                  />
                  <span class="slider-value scale-value">100&nbsp;%</span>
                </div>
              </div>
            </div>
            <dl class="card__stats">
              <div class="stats-row">
                <dt>Poids original</dt>
                <dd class="original-size">-</dd>
              </div>
              <div class="stats-row">
                <dt>Poids converti</dt>
                <dd class="converted-size">-</dd>
              </div>
              <div class="stats-row">
                <dt>Taille originale</dt>
                <dd class="original-dimensions">-</dd>
              </div>
              <div class="stats-row">
                <dt>Nouvelle taille</dt>
                <dd class="new-dimensions">-</dd>
              </div>
            </dl>
            <div class="card__footer">
              <label class="filename-field">
                <span class="filename-label">Nom du fichier</span>
                <div class="filename-input-group">
                  <input
                    type="text"
                    class="filename-input"
                    maxlength="120"
                    placeholder="Nom du fichier"
                  />
                  <span class="filename-suffix" aria-hidden="true">.webp</span>
                </div>
              </label>
              <label class="output-format-field">
                <span class="filename-label">Format de sortie</span>
                <select class="output-format-select" aria-label="Format de sortie">
                  <option value="webp" selected>WebP</option>
                  <option value="jpg">JPG</option>
                  <option value="png">PNG</option>
                </select>
              </label>
              <button class="btn btn--primary download-btn" type="button">
                Télécharger en WebP
              </button>
            </div>
          </div>
        </article>
      </template>
    </main>
  </body>
</html>
